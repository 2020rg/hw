<!doctype html>
<html class="x-admin-sm">
	<head>
		<meta charset="UTF-8">
		<title>课件管理</title>
		<meta name="renderer" content="webkit|ie-comp|ie-stand">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<link rel="stylesheet" href="../../../layui/css/layui.css">
		<link rel="stylesheet" href="../../../css/font.css">
		<link rel="stylesheet" href="../../../css/xadmin.css">
		<!-- <link rel="stylesheet" href="./css/theme5.css"> -->
		<script src="../../../layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="../../../js/xadmin.js"></script>
		<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
		<!--[if lt IE 9]>
          <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
          <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

	</head>

	<body>
		<div class="x-nav">
			<span class="layui-breadcrumb">
				<a href="">首页</a>
				
				<a>
					<cite>课件管理</cite></a>
			</span>
			<a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" onclick="location.reload()"
			 title="刷新">
				<i class="layui-icon layui-icon-refresh" style="line-height:30px"></i>
			</a>
		</div>
		<div class="layui-fluid">
			<div class="layui-row layui-col-space15">
				<div class="layui-col-md12">
					<div class="layui-card">
						<div class="layui-card-body ">
							
							<form class="layui-form layui-col-space5">
								
								<div class="layui-input-inline layui-show-xs-block" >
									<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="课件名" class="layui-input">
								</div>
								<div class="layui-input-inline layui-show-xs-block">
									<select name="contrller">
										<option value="">班级</option>
										<option value="0">1班</option>
										<option value="1">2班</option>

										<option value="3">3班</option>
										<option value="4">4班</option>
										<option value="5">5班</option>
										<option value="5">6班</option>
									</select>
								</div>
								<div class="layui-input-inline layui-show-xs-block">
									<input class="layui-input" placeholder="日期" name="start" id="start" />
								</div>
						
								<button class="layui-btn" lay-submit="" lay-filter="sreach">
									<i class="layui-icon">&#xe615;</i></button>
							</form>
						</div>

						<div class="layui-card-header">
							<button class="layui-btn layui-btn-danger" onclick="delAll()">
								<i class="layui-icon"></i>批量删除</button>
							<button class="layui-btn" onclick="xadmin.open('新建课程','./courseware_add.html',600,400)">
								<i class="layui-icon"></i>添加课件</button>
							
						</div>
						<div class="layui-card-body ">
							<table class="layui-table layui-form">
								<thead>
									<tr>
										<th>
										  <input type="checkbox" lay-filter="checkall" name="" lay-skin="primary">
										</th>
										<th>课程名</th>								
										<th>上传时间</th>
										<th>备注</th>
										<th>文件名</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody id="resources">
								    <!--
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0001</td>
										<td>《软件工程》</td>
										<td>1班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0002</td>
										<td>《软件工程》</td>
										<td>2班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0003</td>
										<td>《软件工程》</td>
										<td>3班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0004</td>
										<td>《软件工程》</td>
										<td>4班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0005</td>
										<td>《软件工程》</td>
										<td>5班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="checkbox" name="" lay-skin="primary"></td>
										<td>0006</td>
										<td>《软件工程》</td>
										<td>6班</td>
										<td>第一次课参考资料</td>
										<td class="td-manage">
										  <a onclick="member_stop(this,'10001')" href="javascript:;"  title="下载">
										    <i class="layui-icon">&#xe601;</i>
										  </a>
										  <a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">
										    <i class="layui-icon">&#xe640;</i>
										  </a>
										</td>
									</tr>
									-->
								</tbody>
							</table>
						</div>
						<div class="layui-card-body ">
							<div class="page">
								<div>
									<a class="prev" href="">&lt;&lt;</a>
									<span class="current">1</span>
									<a class="num" href="">2</a>
									<a class="num" href="">3</a>
									<a class="next" href="">&gt;&gt;</a></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


	<script type="text/javascript" src="../../../js/jquery.js"></script>
	<script type="text/javascript" src="../../../js/jquerysession.js"></script>
	<script>
		$(document).ready(function () {
			$.ajax({
				type: "POST",
				url: "http://localhost:8080/resource/getCR",//请求程序页面
				//async: false,  //当有返回值以后才会进行后面的js程序。
				success: function (msg) {
					for(var i = 0; i < msg.resourceList.length; i++){
						$("#resources").append(
								"<tr>" +
								"<td>" +
								"<input type='checkbox' name='' lay-skin='primary'></td>" +
								"<td>" + msg.resourceList[i].courseName +"</td>" +
								"<td>"+ msg.resourceList[i].uploadTime +"</td>" +
						        "<td>"+ msg.resourceList[i].remark +"</td>" +
						        "<td>"+ msg.resourceList[i].fileName +"</td>" +
								"<td class='td-manage'>" +
								"<a onclick='member_stop(this,'10001')' href='http://localhost:8080/resource/download?resourceID='" + msg.resourceList[i].resourceID +"title='下载'>" +
								"<i class='layui-icon'>&#xe601;</i>" +
						        "</a>" +
						        "<a title='删除' onclick='member_del(this,'要删除的id')' href='javascript:;'>" +
								"<i class='layui-icon'>&#xe640;</i>" +
						        "</a>" +
						"</td>" +
						"</tr>"
					);

					}
				}
			});
		});
	</script>




	</body>


	<script>
		layui.use(['laydate', 'form'],
			function() {
				var laydate = layui.laydate;

				//执行一个laydate实例
				laydate.render({
					elem: '#start' //指定元素
				});

				//执行一个laydate实例
				laydate.render({
					elem: '#end' //指定元素
				});
			});

		
		/*用户-删除*/
		function member_del() {
			layer.confirm('确认要删除吗？',
				function(index) {
					//发异步删除数据
					
					layer.msg('已删除!', {
						icon: 1,
						time: 1000
					});
				});
		}

	
		
		
		
		function delAll () {
		  var ids = [];
		
		  // 获取选中的id 
		  $('table input').each(function(index, el) {
		      if($(this).prop('checked')){
		         ids.push($(this).val())
		      }
		  });
		  
		  layer.confirm('确认要删除吗？'+ids.toString(),function(index){
		      //捉到所有被选中的，发异步进行删除
		      layer.msg('删除成功', {icon: 1});
		      $(".layui-form-checked").not('.header').parents('tr').remove();
		  });
		}
	</script>


</html>